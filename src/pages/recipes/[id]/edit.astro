---
import DashboardLayout from "../../../layouts/DashboardLayout.astro";
import { RecipeEditFormContainer } from "@/components/recipes/form/RecipeEditFormContainer";

export async function getStaticPaths() {
  // For dynamic routes, we'll handle this at runtime
  // This is a placeholder for Astro's static generation
  return [];
}

// Extract recipe ID from URL params
const { id } = Astro.params;

// Validate recipe ID parameter
if (!id) {
  return Astro.redirect("/recipes", 302);
}

const recipeId = id;
---

<DashboardLayout title="Edytuj przepis">
  <div class="min-h-screen bg-background">
    <div class="container mx-auto px-4 py-8">
      <div class="max-w-4xl mx-auto">
        <div class="mb-8">
          <h1 class="text-3xl font-bold text-foreground mb-2">Edytuj przepis</h1>
          <p class="text-muted-foreground">
            Zmodyfikuj nazwę, opis, składniki, kroki przygotowania lub tagi swojego przepisu.
          </p>
        </div>

        {/* Recipe Edit Form */}
        <div class="bg-card rounded-lg border p-6 shadow-sm">
          <RecipeEditFormContainer recipeId={recipeId} client:load />
        </div>
      </div>
    </div>
  </div>
</DashboardLayout>
